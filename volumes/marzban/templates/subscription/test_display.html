<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>–¢–µ—Å—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–º–µ–Ω</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .user-info { background: #f5f5f5; padding: 15px; margin: 10px 0; border-radius: 8px; }
        .prefix { font-weight: bold; color: #666; }
        .name { font-weight: bold; color: #333; }
    </style>
</head>
<body>
    <h1>üß™ –¢–µ—Å—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–º–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</h1>
    
    <div class="user-info">
        <span class="prefix username-prefix">MD5:</span>
        <span class="name username-display">a1b2c3d4e5f6...</span>
    </div>
    
    <button onclick="testUserInfo('a1b2c3d4e5f6abcd1234567890abcdef')">
        –¢–µ—Å—Ç API –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    </button>
    
    <div id="result"></div>
    
    <script>
    async function testUserInfo(vpnId) {
        try {
            const response = await fetch(`/api/user_info/${vpnId}`);
            const data = await response.json();
            
            document.getElementById('result').innerHTML = `
                <h3>–†–µ–∑—É–ª—å—Ç–∞—Ç API:</h3>
                <pre>${JSON.stringify(data, null, 2)}</pre>
            `;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            if (data.display_name) {
                const usernameElements = document.querySelectorAll('.username-display');
                usernameElements.forEach(element => {
                    element.textContent = data.display_name;
                });
                
                const prefixElements = document.querySelectorAll('.username-prefix');
                prefixElements.forEach(element => {
                    if (data.telegram_username) {
                        element.textContent = 'Username:';
                    } else {
                        element.textContent = 'Name:';
                    }
                });
            }
            
        } catch (error) {
            document.getElementById('result').innerHTML = `
                <h3>–û—à–∏–±–∫–∞:</h3>
                <p style="color: red;">${error.message}</p>
            `;
        }
    }
    </script>
</body>
</html> 